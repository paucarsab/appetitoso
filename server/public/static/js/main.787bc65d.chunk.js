(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),l=a.n(r),c=a(6),i=a(7),o=a(9),u=a(8),m=a(10),h=(a(83),a(84),a(25)),d=(a(85),a(32)),p=(a(86),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={search:"",redirect:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({search:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({redirect:"/dishes/search/".concat(this.state.search)})}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(h.a,{to:this.state.redirect}):s.a.createElement("div",{className:"searchBar"},s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("input",{type:"text",placeholder:"Ej. Spaghetti",onChange:function(t){return e.handleChange(t)}}),s.a.createElement("button",null,"Buscar")))}}]),t}(n.Component)),E=a(22),g=a.n(E),v=function e(){var t=this;Object(c.a)(this,e),this.getAllDishes=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getdishDetails=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.postdish=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.getSearchDishes=function(e){return t.service.get("/search/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getBestDishes=function(){return t.service.get("/score").then((function(e){return e.data}))},this.service=g.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/dishes"),withCredentials:!0})},f=a(19),b=(a(108),a(15)),C=a(11),O=function(e){var t=e.name,a=e.photo,n=e._id,r=e.sumScore,l=(e.price,e.restaurant_id,e.score,e.comments);return s.a.createElement("div",{className:"card-dishHome"},s.a.createElement("img",{src:a,alt:"",className:"photo"}),s.a.createElement("div",null,s.a.createElement("h2",null,t)),s.a.createElement("div",{className:"scoreBest"},r>=4.8&&s.a.createElement("img",{src:"/5stars.svg",alt:""}),r<4.8&&r>=4.3&&s.a.createElement("img",{src:"/4Hstars.svg",alt:""}),r<4.3&&r>=3.8&&s.a.createElement("img",{src:"/4stars.svg",alt:""}),r<3.8&&r>=3.3&&s.a.createElement("img",{src:"/3Hstars.svg",alt:""}),r<3.3&&r>=3.8&&s.a.createElement("img",{src:"/3stars.svg",alt:""}),r<2.8&&r>=2.3&&s.a.createElement("img",{src:"/2Hstars.svg",alt:""}),r<2.3&&r>=1.8&&s.a.createElement("img",{src:"/2stars.svg",alt:""}),r<1.8&&r>=1.3&&s.a.createElement("img",{src:"/1Hstars.svg",alt:""}),r<1.8&&s.a.createElement("img",{src:"/1stars.svg",alt:""}),s.a.createElement("h3",null,"Valoraciones: ",l.length+1," ")),s.a.createElement(b.a,{as:"div",className:"b-Best",variant:"dark",size:"sm"},s.a.createElement(C.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >")))},j=(a(109),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getBestDishes()},a.getBestDishes=function(){a.services.getBestDishes().then((function(e){return a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.state={dishes:[],showmodal:!1},a.services=new v,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(f.a,{className:"bestDishes"},this.state.dishes.map((function(e){return s.a.createElement(O,Object.assign({key:e._id},e))}))))}}]),t}(n.Component)),N=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,{className:"homepage"},s.a.createElement("div",{className:"search-zone"},s.a.createElement("div",null,s.a.createElement("h2",null,"Busca entre millones de platos"),s.a.createElement("h3",null,"Busca el lugar, encuentra tu plato"),s.a.createElement(p,null))),s.a.createElement("div",{className:"maxScore"},s.a.createElement("h2",null,"Los platos mejor valorados"),s.a.createElement(j,null)),s.a.createElement("div",{className:"restSignUp"},s.a.createElement("h3",null,"\xbfTu restaurante tiene el mejor plato de la ciudad?"),s.a.createElement("h3",null,"Comp\xe1rtelo y recibe m\xe1s clientes"),s.a.createElement(C.b,{to:"/rest/new"},s.a.createElement("button",null,"Dar de alta"))),s.a.createElement("footer",null,s.a.createElement("div",null,s.a.createElement("h4",null,"Appetitoso S.L."),s.a.createElement("h5",null,"Paseo de la Chopera, 14 Edif. Ironhack | Casa del Lector 28045 Madrid")),s.a.createElement("h5",null,"Copyright \xa9 - Appetitoso 2020")))}}]),t}(n.Component),y=a(20),S=a(21),k=(a(110),function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.username,n=e.password,s=e.email;return t.service.post("/signup",{username:a,password:n,email:s}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.getFavDishes=function(e){return t.service.get("/profile/".concat(e)).then((function(e){return e.data}))},this.service=g.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/auth"),withCredentials:!0})}),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.services.logout().then((function(e){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.state={},a.services=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?s.a.createElement(s.a.Fragment,null,"Bienvenid@, ",this.props.loggedInUser.username):s.a.createElement(s.a.Fragment,null,"Hola, invitad@");return this.props.loggedInUser?s.a.createElement(y.a,{className:"navbar navbar-default navbar-fixed-top",expand:"lg",variant:"dark"},s.a.createElement(y.a.Brand,{href:"/"},s.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),s.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(y.a.Collapse,null,s.a.createElement(S.a,{className:"ml-auto"},s.a.createElement(S.a.Link,{as:"div"},s.a.createElement(C.b,{to:"/profile/".concat(this.props.loggedInUser._id)},e)),s.a.createElement(S.a.Link,{as:"div"}," "),s.a.createElement(S.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n")))):s.a.createElement(y.a,{className:"navbar",expand:"lg",variant:"dark"},s.a.createElement(y.a.Brand,{href:"/"},s.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),s.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(S.a,{className:"ml-auto"},s.a.createElement(S.a.Link,{as:"div"}," "),s.a.createElement(S.a.Link,{as:"div"}," ",s.a.createElement(C.b,{to:"/signup"},"Registro")),s.a.createElement(S.a.Link,{as:"div"}," ",s.a.createElement(C.b,{to:"/login",className:"prueba"},"Inicio sesi\xf3n")))))}}]),t}(n.Component),D=a(24),U=a(3),I=(a(54),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(D.a)({},n,s))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({username:"",password:"",email:""}),a.props.setTheUser(e)})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:"",email:""},a.services=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"signUpGlobal"},s.a.createElement("div",{className:"SignUp"},s.a.createElement("h1",null,"Registro de usuarios"),s.a.createElement(U.a,{onSubmit:this.handleSubmit},s.a.createElement(U.a.Group,null,s.a.createElement(U.a.Label,null,"Usuario"),s.a.createElement(U.a.Control,{className:"inputUp",type:"text",name:"username",value:this.state.username,placeholder:"Introduce tu nombre de usuario",onChange:this.handleChange})),s.a.createElement(U.a.Group,null,s.a.createElement(U.a.Label,null,"Email"),s.a.createElement(U.a.Control,{className:"inputUp",type:"text",name:"email",value:this.state.email,placeholder:"Introduce tu email",onChange:this.handleChange})),s.a.createElement(U.a.Group,null,s.a.createElement(U.a.Label,null,"Contrase\xf1a"),s.a.createElement(U.a.Control,{className:"inputUp",type:"password",name:"password",value:this.state.password,placeholder:"Escribe tu contrase\xf1a",onChange:this.handleChange})),s.a.createElement(b.a,{variant:"dark",type:"submit"},"Crear cuenta")),s.a.createElement("h3",null,"Al crear la cuenta, aceptas nuestros terminos y condiciones. Por favor, lee nuestra pol\xedtica de privacidad y nuestra pol\xedtica de cookies."),s.a.createElement("h3",null,"\xbfYa formas parte de Appetitoso?"),s.a.createElement(C.b,{to:"/login"},s.a.createElement("h3",{className:"redirectLogin"},"Inicia sesi\xf3n"))))}}]),t}(n.Component)),w=function(e){var t=e.name,a=(e.restaurant_id,e.photo);e.comments,e.favRest;return s.a.createElement("div",{className:"dishCommentData"},s.a.createElement("img",{src:a,alt:"{name}"}),s.a.createElement("h3",null,t))},R=(a(112),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.fetchUser()},e.fetchUser=function(){e.services.getFavDishes(e.props.loggedInUser._id).then((function(t){e.setState({user:t})})).catch((function(){return e.setState({user:!1})}))},e.scoreReduce=function(e){var t=e.reduce((function(e,t){return t+e}))/e.length;return Math.round(100*t)/100},e.state={user:null},e.services=new k,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.user?s.a.createElement("div",{className:"profileCont"},s.a.createElement("h1",null,"Bienvenido a tu perfil, ",this.state.user.dishes[0].username),s.a.createElement("h2",null,"Tus datos de perfil:"),s.a.createElement("div",{className:"profileData"},s.a.createElement("img",{className:"profilePhoto",src:this.state.user.dishes[0].profile_photo,alt:this.state.user.dishes[0].username}),s.a.createElement("div",null,s.a.createElement("h3",null,"Nombre de usuario: ",this.state.user.dishes[0].username),s.a.createElement("h3",null,"Email: ",this.state.user.dishes[0].email))),s.a.createElement("h2",null,"Estos son tus platos guardados:"),s.a.createElement("div",{className:"dishBoxData"},this.state.user.dishes[0].userFavDishes.map((function(t,a){return s.a.createElement("div",{className:"dishData"},s.a.createElement("div",null,s.a.createElement(w,Object.assign({key:t._id},t)),s.a.createElement("h3",null,"Restaurante: ",e.state.user.dishes[0].favRest[a].name)),s.a.createElement("div",{className:"rightDataDish"},s.a.createElement("h3",null,"Comentario:",e.state.user.dishes[0].favDishes[a].comment),s.a.createElement("div",null,s.a.createElement("h3",null,"Mi valoraci\xf3n:"," ",e.state.user.dishes[0].favDishes[a].score),s.a.createElement("h3",null,"Valoraci\xf3n general: ",e.scoreReduce(t.score)))))})))):s.a.createElement("div",null,console.log("El objecto est\xe1 vacio")))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(D.a)({},n,s))},a.postUser=function(){a.services.login(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.services=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"signUpGlobal"},s.a.createElement("div",{className:"SignUp"},s.a.createElement("h1",null,"Inicia sesi\xf3n"),s.a.createElement(U.a,{onSubmit:this.handleSubmit},s.a.createElement(U.a.Group,null,s.a.createElement(U.a.Label,null,"Usuario"),s.a.createElement(U.a.Control,{type:"text",className:"inputUp",placeholder:"Introduce tu nombre de usuario",name:"username",value:this.state.username,onChange:this.handleChange})),s.a.createElement(U.a.Group,null,s.a.createElement(U.a.Label,null,"Contrase\xf1a"),s.a.createElement(U.a.Control,{type:"password",className:"inputUp",placeholder:"Introduce tu contrase\xf1a",name:"password",value:this.state.password,onChange:this.handleChange})),s.a.createElement(b.a,{variant:"dark",type:"submit"},"Inicia sesi\xf3n")),s.a.createElement("h3",null,"\xbfNuevo en Appetitoso?"),s.a.createElement(C.b,{to:"/signup"},s.a.createElement("h3",{className:"redirectLogin"},"Crear cuenta"))))}}]),t}(n.Component),T=(a(56),function(e){var t=e.name,a=e.photo,n=e._id,r=e.sumScore,l=e.price,c=e.rest,i=e.comments;return s.a.createElement("tr",{className:"card-dish"},s.a.createElement("td",null,s.a.createElement("img",{src:a,className:"photoDishSearch",alt:""})),s.a.createElement("td",{className:"centerCard"},s.a.createElement("h2",null,t),s.a.createElement("h3",null,c[0].name),s.a.createElement("h3",null,c[0].address),s.a.createElement(b.a,{as:"div",className:"btn-More",variant:"dark",size:"sm"},s.a.createElement(C.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >"))),s.a.createElement("td",{className:"rightCard"},s.a.createElement("h2",null,"Valoraci\xf3n: ",Math.round(100*r)/100," "),r>=4.8&&s.a.createElement("img",{className:"scoreSearch",src:"/5stars.svg",alt:""}),r<4.8&&r>=4.3&&s.a.createElement("img",{src:"/4Hstars.svg",className:"scoreSearch",alt:""}),r<4.3&&r>=3.8&&s.a.createElement("img",{src:"/4stars.svg",className:"scoreSearch",alt:""}),r<3.8&&r>=3.3&&s.a.createElement("img",{src:"/3Hstars.svg",className:"scoreSearch",alt:""}),r<3.3&&r>=2.8&&s.a.createElement("img",{src:"/3stars.svg",className:"scoreSearch",alt:""}),r<2.8&&r>=2.3&&s.a.createElement("img",{src:"/2Hstars.svg",className:"scoreSearch",alt:""}),r<2.3&&r>=1.8&&s.a.createElement("img",{src:"/2stars.svg",className:"scoreSearch",alt:""}),r<1.8&&r>=1.3&&s.a.createElement("img",{src:"/1Hstars.svg",className:"scoreSearch",alt:""}),r<1.3&&s.a.createElement("img",{src:"/1stars.svg",className:"scoreSearch",alt:""}),s.a.createElement("h3",null,"N\xba valoraciones: ",i.length+1),s.a.createElement("h2",null,"Precio: ",l," \u20ac")))}),x=a(142),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getAllDishes()},a.getAllDishes=function(){a.services.getAllDishes().then((function(e){return a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.state={dishes:[],showmodal:!1},a.services=new v,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("h1",null,"Resultados de la busqueda:"),s.a.createElement(x.a,null,this.state.dishes.map((function(e){return s.a.createElement("tr",null,s.a.createElement(T,Object.assign({key:e._id},e)))}))))}}]),t}(n.Component),M=function e(){var t=this;Object(c.a)(this,e),this.getNewFavDish=function(e,a){return t.service.put("/fav/".concat(e),a).then((function(e){return e.data}))},this.service=g.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/edit"),withCredentials:!0})},P=(a(113),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(D.a)({},n,s))},a.handleSubmit=function(e){e.preventDefault(),a.postfavDish()},a.postfavDish=function(){var e={dish:a.state.dish._id,score:a.state.score,comment:a.state.comment};a.editServices.getNewFavDish(a.state.user._id,e)},a.componentDidMount=function(){return a.getdishDetails()},a.getdishDetails=function(){a.services.getdishDetails(a.props.match.params.id).then((function(e){return a.setState({dish:e})})).catch((function(e){return console.log(e)}))},a.scoreReduce=function(e){var t=e.reduce((function(e,t){return t+e}))/e.length;return Math.round(100*t)/100},a.state={dish:null,user:a.props.loggedInUser},a.services=new v,a.editServices=new M,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.dish?s.a.createElement("div",{className:"dishDetailsGlobal"},s.a.createElement("div",{className:"dish-details"},s.a.createElement("img",{src:this.state.dish.photo,alt:this.state.dish.name}),s.a.createElement("div",null,s.a.createElement("h1",null,this.state.dish.name),s.a.createElement("h3",null,this.state.dish.restaurant_id.name),s.a.createElement("h3",null,this.state.dish.restaurant_id.address),s.a.createElement("h3",null,"Web: ",this.state.dish.restaurant_id.web),s.a.createElement("h3",null,"Tlf: ",this.state.dish.restaurant_id.phone),s.a.createElement("h2",null,"Ingredientes:"),s.a.createElement("ul",null,this.state.dish.ingredients.map((function(e,t){return s.a.createElement("li",{key:"ingr".concat(t)},"  ",e," ")}))),s.a.createElement("h2",null,"Intolerancias:"),s.a.createElement("h3",{className:"intolerances"},this.state.dish.intolerances.map((function(e){return"Gluten"===e?s.a.createElement("img",{title:"Contiene gluten",src:"../../../../Int_gluten.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Shellfish"===e?s.a.createElement("img",{title:"Crust\xe1ceos",src:"../../../../Int_Crustaceans.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Egg"===e?s.a.createElement("img",{title:"Huevos",src:"../../../../Int_Egg.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Fish"===e?s.a.createElement("img",{title:"Pescado",src:"../../../../Int_Fish.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Peanuts"===e?s.a.createElement("img",{title:"Cacahuetes",src:"../../../../Int_Peanuts.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Soy"===e?s.a.createElement("img",{title:"Soja",src:"../../../../Int_Soy.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Dairy"===e?s.a.createElement("img",{title:"L\xe1cteos",src:"../../../../Int_Dairy.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Tree Nuts"===e?s.a.createElement("img",{title:"Frutos de C\xe1scara",src:"../../../../Int_TreeNuts.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Celery"===e?s.a.createElement("img",{title:"Apio",src:"../../../../Int_Celery.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Mustard"===e?s.a.createElement("img",{title:"Mostaza",src:"../../../../Int_Mustard.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Sesame"===e?s.a.createElement("img",{title:"Granos de S\xe9samo",src:"../../../../Int_sesame.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Sulphur Dioxide"===e?s.a.createElement("img",{title:"Di\xf3xido de Azufre",src:"../../../../Int_sulphur.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Lupin"===e?s.a.createElement("img",{title:"Altramuces",src:"../../../../Int_Lupin.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Molluscs"===e?s.a.createElement("img",{title:"Moluscos",src:"../../../../Int_Molluscs.svg",alt:""}):null})))),s.a.createElement("div",{className:"details-right"},s.a.createElement("div",null,s.a.createElement("h2",null," Valoraci\xf3n de los usuarios: ",this.scoreReduce(this.state.dish.score)),this.state.dish.comments&&s.a.createElement("h3",null,this.state.dish.comments.length+1," Valoraciones")),s.a.createElement("div",null,s.a.createElement("h1",null,"Precio: ",this.state.dish.price," \u20ac"),s.a.createElement(C.b,{to:"/rest/".concat(this.state.dish.restaurant_id._id)},s.a.createElement("h3",null,"Ver m\xe1s de este restaurante >"))))),s.a.createElement("div",null,s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"formComment"},s.a.createElement("h3",null,"Valoraci\xf3n:"),s.a.createElement("input",{name:"score",type:"number",className:"scoreArea",min:"0",max:"5",onChange:this.handleChange}),s.a.createElement("h3",null,"Comentario:"),s.a.createElement("input",{name:"comment",type:"TextArea",className:"textArea",onChange:this.handleChange}),s.a.createElement("button",null,"Enviar comentario"))),s.a.createElement("div",null,this.state.dish.comments.map((function(e){return s.a.createElement("div",{key:e.user._id,className:"commentDetail"},s.a.createElement("img",{src:e.user.profile_photo,alt:""}),s.a.createElement("h3",{className:"userComment"}," ",e.user.username,": "),s.a.createElement("h3",null,' "',e.comment,'"'))})))):console.log(""))}}]),t}(n.Component)),B=(a(114),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchDishes=function(){a.services.getSearchDishes(a.props.match.params.dish).then((function(e){a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.componentDidMount=function(){a.getSearchDishes()},a.state={dishes:[],showmodal:!1},a.services=new v,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"dishSearch"},s.a.createElement("h1",null,"Resultados de la busqueda:"),s.a.createElement(x.a,null,s.a.createElement("tbody",null,this.state.dishes.map((function(e){return s.a.createElement(T,Object.assign({key:e._id},e))})))))}}]),t}(n.Component)),G=function e(){var t=this;Object(c.a)(this,e),this.getAllRest=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getRestDetails=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.postRest=function(e){var a=e.name,n=e.password,s=e.email,r=e.address,l=e.phone,c=e.web;return t.service.post("/new",{name:a,password:n,email:s,address:r,phone:l,web:c}).then((function(e){return e.data}))},this.getSearchRest=function(e){return t.service.get("/search/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getBestRest=function(){return t.service.get("/score").then((function(e){return e.data}))},this.service=g.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/rest"),withCredentials:!0})},H=(a(115),a(116),function(e){var t=e.name,a=e.photo,n=e._id,r=(e.sumScore,e.price),l=e.restaurant_id,c=e.score,i=(e.rest,e.comments);return s.a.createElement("tr",{className:"card-dish"},s.a.createElement("td",null,s.a.createElement("img",{src:a,alt:""})),s.a.createElement("td",null,s.a.createElement("h2",null,t),s.a.createElement("h3",null,l.name),s.a.createElement("h3",null,l.address),s.a.createElement("hr",null),s.a.createElement(b.a,{as:"div",variant:"dark",size:"sm"},s.a.createElement(C.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >")),s.a.createElement("h2",null,"Precio: ",r," \u20ac")),s.a.createElement("td",null,s.a.createElement("h3",null,Math.round(100*c)/100," "),s.a.createElement("h3",null,"Valoraciones: ",i.length+1),c>=4.8&&s.a.createElement("img",{src:"/5stars.svg",className:"scoreImg",alt:""}),c<4.8&&c>=4.3&&s.a.createElement("img",{src:"/4Hstars.svg",className:"scoreImg",alt:""}),c<4.3&&c>=3.8&&s.a.createElement("img",{src:"/4stars.svg",className:"scoreImg",alt:""}),c<3.8&&c>=3.3&&s.a.createElement("img",{src:"/3Hstars.svg",className:"scoreImg",alt:""}),c<3.3&&c>=2.8&&s.a.createElement("img",{src:"/3stars.svg",className:"scoreImg",alt:""}),c<2.8&&c>=2.3&&s.a.createElement("img",{src:"/2Hstars.svg",className:"scoreImg",alt:""}),c<2.3&&c>=1.8&&s.a.createElement("img",{src:"/2stars.svg",className:"scoreImg",alt:""}),c<1.8&&c>=1.3&&s.a.createElement("img",{src:"/1Hstars.svg",className:"scoreImg",alt:""}),c<1.3&&s.a.createElement("img",{src:"/1stars.svg",className:"scoreImg",alt:""})))}),F=a(71),V=a.n(F),z=a(72);function W(){var e=Object(z.a)(["\n  position: absolute;\n  background-image: url(../../../../point.svg);\n  background-repeat:no-repeat;\n  top: 50%;\n  left: 50%;\n  width: 30px;\n  height: 30px;\n  user-select: none;\n  transform: translate(-50%, -50%);\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n    width: 40px;\n    height: 40px;\n  }\n"]);return W=function(){return e},e}var K=a(73).a.div(W(),(function(e){return e.onClick?"pointer":"default"})),J=function(e){return s.a.createElement(K,Object.assign({alt:e.text},e.onClick?{onClick:e.onClick}:{}))};J.defaultProps={onClick:null};var Z=J;a(136).config();var q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getRestDetails()},a.getRestDetails=function(){a.services.getRestDetails(a.props.pos).then(a.setState({center:a.props.pos})).catch((function(e){return console.log(e)}))},a.state={center:{lat:null,lng:null},zoom:17},a.services=new G,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:"30vh",width:"100%"}},this.state.center.lat?s.a.createElement(V.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://appetitoso.herokuapp.com/api",REACT_APP_URL:"https://appetitoso.herokuapp.com/"}).REACT_APP_MAP_KEY},defaultCenter:this.state.center,defaultZoom:this.state.zoom},s.a.createElement(Z,{lat:Number(this.state.center.lat),lng:Number(this.state.center.lng),text:"Marker"})):console.log("No data received"))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getRestDetails()},a.getRestDetails=function(){a.services.getRestDetails(a.props.match.params.id).then((function(e){return a.setState({rest:e})})).catch((function(e){return console.log(e)}))},a.state={rest:null},a.services=new G,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.state.rest?s.a.createElement("div",{className:"rest-details"},s.a.createElement("div",{className:"rest-slider",style:{backgroundImage:"url('".concat(this.state.rest.photo,"')")}},s.a.createElement("h1",null,this.state.rest.name)),s.a.createElement("div",{className:"centralZone"},s.a.createElement("div",{className:"leftCZ"},s.a.createElement("h2",null,"Datos del restaurante: "),s.a.createElement("h3",null,this.state.rest.address),s.a.createElement("h3",null,"Tlf: ",this.state.rest.phone),s.a.createElement("h3",null,"Web: ",this.state.rest.web),s.a.createElement("h3",null,"Email: ",this.state.rest.email),s.a.createElement("h3",null,"Tipo de comida: ",this.state.rest.food_type)),s.a.createElement("div",{className:"restMap"},s.a.createElement(q,{pos:this.state.rest.position}))),s.a.createElement("hr",null),s.a.createElement("h2",null,"Descubre los platos de este restaurante:"),s.a.createElement("div",null,s.a.createElement(x.a,null,s.a.createElement("tbody",{className:"dishRestDet"},this.state.rest.dishes.map((function(e){return s.a.createElement(H,Object.assign({key:e._id},e))})))))):console.log(""))}}]),t}(n.Component),Q=(a(139),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(D.a)({},n,s))},a.postRest=function(){a.services.postRest(a.state).then((function(e){a.setState({name:"",password:"",email:"",address:"",phone:"",web:"",food_type:"",position:"",photo:""}),a.props.setTheUser(e)})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postRest()},a.state={name:"",password:"",email:"",address:"",phone:"",web:"",food_type:"",position:"",photo:""},a.services=new G,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"backFormRest"},s.a.createElement(U.a,{onSubmit:this.handleSubmit,className:"form-rest"},s.a.createElement("h1",null,"Registra tu restaurante"),s.a.createElement(U.a.Row,null,s.a.createElement(U.a.Group,{as:f.a,md:"4"},s.a.createElement(U.a.Label,null,"Nombre del restaurante"),s.a.createElement(U.a.Control,{type:"text",name:"name",placeholder:"Introduce el nombre del restaurante",value:this.state.username,onChange:this.handleChange})),s.a.createElement(U.a.Group,{as:f.a,md:"20"},s.a.createElement(U.a.Label,null,"Email"),s.a.createElement(U.a.Control,{type:"text",name:"email",placeholder:"Email de contacto (p\xfablico)",value:this.state.email,onChange:this.handleChange})),s.a.createElement(U.a.Group,{as:f.a,md:"4"},s.a.createElement(U.a.Label,null,"Contrase\xf1a"),s.a.createElement(U.a.Control,{type:"password",name:"password",placeholder:"Escribe tu contrase\xf1a",value:this.state.password,onChange:this.handleChange}))),s.a.createElement(U.a.Row,null,s.a.createElement(U.a.Group,{as:f.a,md:"4"},s.a.createElement(U.a.Label,null,"Direcci\xf3n"),s.a.createElement(U.a.Control,{type:"text",name:"address",placeholder:"Direcci\xf3n",value:this.state.address,onChange:this.handleChange})),s.a.createElement(U.a.Group,{as:f.a,md:"4"},s.a.createElement(U.a.Label,null,"Web"),s.a.createElement(U.a.Control,{type:"text",name:"web",placeholder:"Escribe tu website",value:this.state.web,onChange:this.handleChange})),s.a.createElement(U.a.Group,{as:f.a,md:"4"},s.a.createElement(U.a.Label,null,"Tel\xe9fono"),s.a.createElement(U.a.Control,{type:"text",name:"phone",placeholder:"Introduce tu tel\xe9fono (p\xfablico)",value:this.state.phone,onChange:this.handleChange}))),s.a.createElement(U.a.Group,null,s.a.createElement("h3",null,"Selecciona el tipo de comida: "),["radio"].map((function(t){return s.a.createElement("div",{key:"inline-".concat(t),className:"mb-3"},s.a.createElement(U.a.Check,{inline:!0,label:"Espa\xf1ola",type:t,value:e.state.food_type,id:"inline-".concat(t,"-1")}),s.a.createElement(U.a.Check,{inline:!0,label:"Italiana",type:t,value:e.state.food_type,id:"inline-".concat(t,"-2")}),s.a.createElement(U.a.Check,{inline:!0,label:"Mexicana",type:t,value:e.state.food_type,id:"inline-".concat(t,"-3")}),s.a.createElement(U.a.Check,{inline:!0,label:"Americana",type:t,value:e.state.food_type,id:"inline-".concat(t,"-4")}),s.a.createElement(U.a.Check,{inline:!0,label:"Japonesa",type:t,value:e.state.food_type,id:"inline-".concat(t,"-5")}),s.a.createElement(U.a.Check,{inline:!0,label:"China",type:t,value:e.state.food_type,id:"inline-".concat(t,"-6")}),s.a.createElement(U.a.Check,{inline:!0,label:"Turca",type:t,value:e.state.food_type,id:"inline-".concat(t,"-7")}),s.a.createElement(U.a.Check,{inline:!0,label:"Centroamericana",value:e.state.food_type,type:t,id:"inline-".concat(t,"-8")}),s.a.createElement(U.a.Check,{inline:!0,label:"Sudamericana",value:e.state.food_type,type:t,id:"inline-".concat(t,"-9")}),s.a.createElement(U.a.Check,{inline:!0,label:"Centroeuropea",value:e.state.food_type,type:t,id:"inline-".concat(t,"-10")}))}))),s.a.createElement(b.a,{variant:"dark",type:"submit"},"Dar de alta")))}}]),t}(n.Component)),X=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.services.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1},e.services=new k,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(_,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),s.a.createElement("div",{className:"general"},s.a.createElement(h.d,null,s.a.createElement(h.b,{exact:!0,path:"/",render:function(){return s.a.createElement(N,{loggedInUser:e.state.loggedInUser})}}),s.a.createElement(h.b,{path:"/signup",render:function(){return s.a.createElement(I,{setTheUser:e.setTheUser})}}),s.a.createElement(h.b,{path:"/login",render:function(t){return s.a.createElement(L,Object.assign({setTheUser:e.setTheUser},t))}}),s.a.createElement(h.b,{path:"/profile/:id",render:function(){return e.state.loggedInUser?s.a.createElement(R,{loggedInUser:e.state.loggedInUser}):s.a.createElement(h.a,{to:"/"})}}),s.a.createElement(h.b,{exact:!0,path:"/dishes/all",render:function(){return s.a.createElement(A,{loggedInUser:e.state.loggedInUser})}}),s.a.createElement(h.b,{exact:!0,path:"/rest/all",render:function(){return s.a.createElement(A,{loggedInUser:e.state.loggedInUser})}}),s.a.createElement(h.b,{path:"/rest/new",render:function(){return s.a.createElement(Q,{setTheUser:e.setTheUser})}}),s.a.createElement(h.b,{path:"/dishes/search/:dish",render:function(t){return s.a.createElement(B,Object.assign({},t,{loggedInUser:e.state.loggedInUser}))}}),s.a.createElement(h.b,{path:"/dishes/:id",render:function(t){return s.a.createElement(P,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),s.a.createElement(h.b,{path:"/rest/:id",render:function(e){return s.a.createElement(Y,e)}}))))}}]),t}(n.Component);l.a.render(s.a.createElement(C.a,null,s.a.createElement(X,null)),document.getElementById("root"))},54:function(e,t,a){},56:function(e,t,a){},78:function(e,t,a){e.exports=a(140)},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.787bc65d.chunk.js.map