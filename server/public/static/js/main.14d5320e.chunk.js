(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,a){e.exports=a(92)},65:function(e,t,a){},86:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),l=a.n(s),c=a(6),i=a(8),o=a(11),u=a(9),m=a(10),h=(a(64),a(65),a(23)),p=a(25),d=a.n(p),g=function e(){var t=this;Object(c.a)(this,e),this.getAllDishes=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getdishDetails=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.postdish=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/dishes"),withCredentials:!0})},E=a(21),v=a(37),f=a(5),b=a(17),U=function e(){var t=this;Object(c.a)(this,e),this.handleUpload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/files"),withCredentials:!0})},j=(n.Component,a(86),a(26)),C=a(14),O=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{className:"homepage"},r.a.createElement("div",{className:"search-zone"},r.a.createElement("div",null,r.a.createElement("h2",null,"Busca entre millones de platos"),r.a.createElement("h3",null,"Busca el lugar, encuentra tu plato"),r.a.createElement("div",{className:"searchBar"},r.a.createElement("input",{type:"text",placeholder:"Ej. Spaghetti"}),r.a.createElement(C.b,{to:"/dishes/all"},r.a.createElement("button",null,"Buscar"))))),r.a.createElement("div",{className:"maxScore"},r.a.createElement("h2",null,"Los platos mejor valorados")),r.a.createElement("div",{className:"restSignUp"},r.a.createElement("h3",null,"\xbfTu restaurante tiene el mejor plato de la ciudad?"),r.a.createElement("h3",null,"Comp\xe1rtelo y recibe m\xe1s clientes"),r.a.createElement("button",null,"Dar de alta")),r.a.createElement("footer",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Appetitoso S.L."),r.a.createElement("h5",null,"Paseo de la Chopera, 14 Edif. Ironhack | Casa del Lector 28045 Madrid")),r.a.createElement("div",null,"Copyright\xa9 Appetitoso 2020")))}}]),t}(n.Component),w=a(20),k=a(19),I=(a(90),function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.username,n=e.password,r=e.email;return t.service.post("/signup",{username:a,password:n,email:r}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/auth"),withCredentials:!0})}),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.services.logout().then((function(e){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.state={},a.services=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,"Bienvenid@, ",this.props.loggedInUser.username):r.a.createElement(r.a.Fragment,null,"Hola, invitad@");return this.props.loggedInUser?r.a.createElement(w.a,{className:"navbar",expand:"lg",variant:"dark"},r.a.createElement(w.a.Brand,{href:"/"},r.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,null,r.a.createElement(k.a,{className:"ml-auto"},r.a.createElement(k.a.Link,{as:"div"},r.a.createElement(C.b,{to:"/profile"},e)),r.a.createElement(k.a.Link,{as:"div"}," "),r.a.createElement(k.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n")))):r.a.createElement(w.a,{className:"navbar",expand:"lg",variant:"dark"},r.a.createElement(w.a.Brand,{href:"/"},r.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(k.a,{className:"ml-auto"},r.a.createElement(k.a.Link,{as:"div"}," "),r.a.createElement(k.a.Link,{as:"div"}," ",r.a.createElement(C.b,{to:"/signup"},"Registro")),r.a.createElement(k.a.Link,{as:"div"}," ",r.a.createElement(C.b,{to:"/login",className:"prueba"},"Inicio sesi\xf3n")))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({username:"",password:"",email:""}),a.props.setTheUser(e)})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:"",email:""},a.services=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement("h1",null,"Registro de usuarios"),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Usuario"),r.a.createElement(f.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Contrase\xf1a"),r.a.createElement(f.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Registrarse")))}}]),t}(n.Component),L=function(e){return r.a.createElement("h1",null,"Bienvenido a tu perfil, ",e.loggedInUser.username)},T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.postUser=function(){a.services.login(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.services=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement("h1",null,"Inicio de sesi\xf3n"),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Usuario"),r.a.createElement(f.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Contrase\xf1a"),r.a.createElement(f.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(n.Component),D=a(58),N=(a(91),function(e){var t=e.name,a=e.photo,n=e._id,s=e.price,l=e.restaurant_id,c=e.score,i=e.comments;return r.a.createElement("div",{className:"card-dish"},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("h3",null,l),r.a.createElement("h3",null,"Direcci\xf3n: ",l),r.a.createElement("hr",null),r.a.createElement(b.a,{as:"div",variant:"dark",size:"sm"},r.a.createElement(C.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >")),r.a.createElement("h2",null,"Precio: ",s)),r.a.createElement("div",null,r.a.createElement("h3",null,c),r.a.createElement("h3",null,i.length),r.a.createElement("img",{src:"/5stars.svg",alt:""})))}),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getAllDishes()},a.getAllDishes=function(){a.services.getAllDishes().then((function(e){return a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.state={dishes:[],showmodal:!1},a.services=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,null,this.state.dishes.map((function(e){return r.a.createElement(N,Object.assign({key:e._id},e))}))))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidUpdate=function(t,a){return console.log("El estado de App se ha actualizado:",e.state)},e.componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.services.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1},e.services=new I,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(O,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/signup",render:function(){return r.a.createElement(S,{setTheUser:e.setTheUser})}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(T,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(L,{loggedInUser:e.state.loggedInUser}):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{exact:!0,path:"/dishes/all",render:function(){return r.a.createElement(x,{loggedInUser:e.state.loggedInUser})}})))}}]),t}(n.Component);l.a.render(r.a.createElement(C.a,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.14d5320e.chunk.js.map