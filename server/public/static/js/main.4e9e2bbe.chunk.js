(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),l=a.n(s),c=a(5),i=a(6),o=a(8),u=a(7),m=a(9),h=(a(82),a(83),a(24)),d=(a(84),a(17)),g=(a(85),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={search:"",redirect:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({search:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({redirect:"/dishes/search/".concat(this.state.search)})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:this.state.redirect}):r.a.createElement("div",{className:"searchBar"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"text",placeholder:"Ej. Spaghetti",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",null,"Buscar")))}}]),t}(n.Component)),p=a(21),E=a.n(p),f=function e(){var t=this;Object(c.a)(this,e),this.getAllDishes=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getdishDetails=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.postdish=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.getSearchDishes=function(e){return t.service.get("/search/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getBestDishes=function(){return t.service.get("/score").then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/dishes"),withCredentials:!0})},v=a(38),b=(a(107),a(22)),O=a(12),j=function(e){var t=e.name,a=e.photo,n=e._id,s=(e.price,e.restaurant_id,e.score),l=e.comments,c=s.reduce((function(e,t){return t+e}))/s.length;return r.a.createElement("div",{className:"card-dishHome"},r.a.createElement("img",{src:a,alt:"",className:"photo"}),r.a.createElement("div",null,r.a.createElement("h2",null,t)),r.a.createElement("div",{className:"scoreBest"},c>=4.8&&r.a.createElement("img",{src:"/5stars.svg",alt:""}),c<4.8&&c>=4.3&&r.a.createElement("img",{src:"/4Hstars.svg",alt:""}),c<4.3&&c>=3.8&&r.a.createElement("img",{src:"/4stars.svg",alt:""}),c<3.8&&c>=3.3&&r.a.createElement("img",{src:"/3Hstars.svg",alt:""}),c<3.3&&c>=3.8&&r.a.createElement("img",{src:"/3stars.svg",alt:""}),c<2.8&&c>=2.3&&r.a.createElement("img",{src:"/2Hstars.svg",alt:""}),c<2.3&&c>=1.8&&r.a.createElement("img",{src:"/2stars.svg",alt:""}),c<1.8&&c>=1.3&&r.a.createElement("img",{src:"/1Hstars.svg",alt:""}),c<1.8&&r.a.createElement("img",{src:"/1stars.svg",alt:""}),r.a.createElement("h3",null,l.length," Opiniones")),r.a.createElement(b.a,{as:"div",className:"b-Best",variant:"dark",size:"sm"},r.a.createElement(O.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >")))},C=(a(108),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getBestDishes()},a.getBestDishes=function(){a.services.getBestDishes().then((function(e){return a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.state={dishes:[],showmodal:!1},a.services=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{className:"bestDishes"},this.state.dishes.map((function(e){return r.a.createElement(j,Object.assign({key:e._id},e))}))))}}]),t}(n.Component)),U=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"homepage"},r.a.createElement("div",{className:"search-zone"},r.a.createElement("div",null,r.a.createElement("h2",null,"Busca entre millones de platos"),r.a.createElement("h3",null,"Busca el lugar, encuentra tu plato"),r.a.createElement(g,null))),r.a.createElement("div",{className:"maxScore"},r.a.createElement("h2",null,"Los platos mejor valorados"),r.a.createElement(C,null)),r.a.createElement("div",{className:"restSignUp"},r.a.createElement("h3",null,"\xbfTu restaurante tiene el mejor plato de la ciudad?"),r.a.createElement("h3",null,"Comp\xe1rtelo y recibe m\xe1s clientes"),r.a.createElement("button",null,"Dar de alta")),r.a.createElement("footer",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Appetitoso S.L."),r.a.createElement("h5",null,"Paseo de la Chopera, 14 Edif. Ironhack | Casa del Lector 28045 Madrid")),r.a.createElement("h5",null,"Copyright \xa9 - Appetitoso 2020")))}}]),t}(n.Component),I=a(19),D=a(20),_=(a(109),function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.username,n=e.password,r=e.email;return t.service.post("/signup",{username:a,password:n,email:r}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.getFavDishes=function(e){return t.service.get("/profile/".concat(e)).then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/auth"),withCredentials:!0})}),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.services.logout().then((function(e){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.state={},a.services=new _,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,"Bienvenid@, ",this.props.loggedInUser.username):r.a.createElement(r.a.Fragment,null,"Hola, invitad@");return this.props.loggedInUser?r.a.createElement(I.a,{className:"navbar",expand:"lg",variant:"dark"},r.a.createElement(I.a.Brand,{href:"/"},r.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),r.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(I.a.Collapse,null,r.a.createElement(D.a,{className:"ml-auto"},r.a.createElement(D.a.Link,{as:"div"},r.a.createElement(O.b,{to:"/profile/".concat(this.props.loggedInUser._id)},e)),r.a.createElement(D.a.Link,{as:"div"}," "),r.a.createElement(D.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n")))):r.a.createElement(I.a,{className:"navbar",expand:"lg",variant:"dark"},r.a.createElement(I.a.Brand,{href:"/"},r.a.createElement("img",{src:"../../../Appetitoso_logo_white.svg",alt:"appetitoso-logo-pink"})),r.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(I.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(D.a,{className:"ml-auto"},r.a.createElement(D.a.Link,{as:"div"}," "),r.a.createElement(D.a.Link,{as:"div"}," ",r.a.createElement(O.b,{to:"/signup"},"Registro")),r.a.createElement(D.a.Link,{as:"div"}," ",r.a.createElement(O.b,{to:"/login",className:"prueba"},"Inicio sesi\xf3n")))))}}]),t}(n.Component),k=a(26),y=a(10),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({username:"",password:"",email:""}),a.props.setTheUser(e)})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:"",email:""},a.services=new _,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Registro de usuarios"),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Usuario"),r.a.createElement(y.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Email"),r.a.createElement(y.a.Control,{type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Contrase\xf1a"),r.a.createElement(y.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Registrarse")))}}]),t}(n.Component),N=(a(55),function(e){var t=e.name,a=e.photo,n=e._id,s=e.price,l=e.restaurant_id,c=e.score,i=e.comments;return r.a.createElement("tr",{className:"card-dish"},r.a.createElement("td",null,r.a.createElement("img",{src:a,alt:""})),r.a.createElement("td",null,r.a.createElement("h2",null,t),r.a.createElement("h3",null,l.name),r.a.createElement("h3",null,l.address),r.a.createElement("hr",null),r.a.createElement(b.a,{as:"div",variant:"dark",size:"sm"},r.a.createElement(O.b,{to:"/dishes/".concat(n)},"Ver m\xe1s >")),r.a.createElement("h2",null,"Precio: ",s)),r.a.createElement("td",null,r.a.createElement("h3",null,c),r.a.createElement("h3",null,i.length),c>=4.8&&r.a.createElement("img",{src:"/5stars.svg",alt:""}),c<4.8&&c>=4.3&&r.a.createElement("img",{src:"/4Hstars.svg",alt:""}),c<4.3&&c>=3.8&&r.a.createElement("img",{src:"/4stars.svg",alt:""}),c<3.8&&c>=3.3&&r.a.createElement("img",{src:"/3Hstars.svg",alt:""}),c<3.3&&c>=2.8&&r.a.createElement("img",{src:"/3stars.svg",alt:""}),c<2.8&&c>=2.3&&r.a.createElement("img",{src:"/2Hstars.svg",alt:""}),c<2.3&&c>=1.8&&r.a.createElement("img",{src:"/2stars.svg",alt:""}),c<1.8&&c>=1.3&&r.a.createElement("img",{src:"/1Hstars.svg",alt:""}),c<1.3&&r.a.createElement("img",{src:"/1stars.svg",alt:""})))}),R=function(e){var t=e.name,a=e.restaurant_id,n=e.photo;e.comments;return r.a.createElement("div",{className:"dishCommentData"},r.a.createElement("img",{src:n,alt:"{name}"}),r.a.createElement("h3",null,t),r.a.createElement("h3",null,a))},T=(a(111),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.fetchUser()},e.fetchUser=function(){e.services.getFavDishes(e.props.loggedInUser._id).then((function(t){e.setState({loggedInUser:e.props.loggedInUser,favDishes:t[0]})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1,favDishes:[]},e.services=new _,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"profile"},this.state.loggedInUser?r.a.createElement("div",null,r.a.createElement("h1",null,"Bienvenido a tu perfil, ",this.props.loggedInUser.username),r.a.createElement("img",{src:this.props.loggedInUser.profile_photo,alt:this.props.loggedInUser.username}),r.a.createElement("h3",null,"Email: ",this.props.loggedInUser.email),r.a.createElement("div",null,this.state.favDishes.map((function(e){return r.a.createElement("div",{className:"dishData"},r.a.createElement(R,Object.assign({key:e._id},e.dish)),r.a.createElement("h3",null,"Puntuaci\xf3n: ",e.score),r.a.createElement("h3",null,"Comentario: ",e.comment))})))):r.a.createElement("div",null,console.log("El objecto est\xe1 vacio")))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.postUser=function(){a.services.login(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.services=new _,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Inicio de sesi\xf3n"),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Usuario"),r.a.createElement(y.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Contrase\xf1a"),r.a.createElement(y.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(n.Component),A=a(138),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getAllDishes()},a.getAllDishes=function(){a.services.getAllDishes().then((function(e){return a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.state={dishes:[],showmodal:!1},a.services=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Resultados de la busqueda:"),r.a.createElement(A.a,null,this.state.dishes.map((function(e){return r.a.createElement("tr",null,r.a.createElement(N,Object.assign({key:e._id},e)))}))))}}]),t}(n.Component),M=function e(){var t=this;Object(c.a)(this,e),this.getNewFavDish=function(e,a){return t.service.put("/fav/".concat(e),a).then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/edit"),withCredentials:!0})},P=(a(112),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.postfavDish()},a.postfavDish=function(){var e={dish:a.state.dish._id,score:a.state.score,comment:a.state.comment};a.editServices.getNewFavDish(a.state.user._id,e)},a.componentDidMount=function(){return a.getdishDetails()},a.getdishDetails=function(){a.services.getdishDetails(a.props.match.params.id).then((function(e){return a.setState({dish:e})})).catch((function(e){return console.log(e)}))},a.scoreReduce=function(e){var t=e.reduce((function(e,t){return t+e}))/e.length;return Math.round(100*t)/100},a.state={dish:null,user:a.props.loggedInUser},a.services=new f,a.editServices=new M,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,this.state.dish?r.a.createElement("div",{className:"dish-details"},r.a.createElement("img",{src:this.state.dish.photo,alt:this.state.dish.name}),r.a.createElement("div",null,r.a.createElement("h1",null,this.state.dish.name),r.a.createElement("h3",null,this.state.dish.restaurant_id.name),r.a.createElement("h3",null,this.state.dish.restaurant_id.address),r.a.createElement("h3",null,"Web: ",this.state.dish.restaurant_id.web),r.a.createElement("h3",null,"Tlf: ",this.state.dish.restaurant_id.phone),r.a.createElement("h2",null,"Ingredientes:"),r.a.createElement("ul",null,this.state.dish.ingredients.map((function(e){return r.a.createElement("li",null," ",e," ")}))),r.a.createElement("h2",null,"Intolerancias:"),r.a.createElement("h3",{className:"intolerances"},this.state.dish.intolerances.map((function(e){return"Gluten"===e?r.a.createElement("img",{title:"Contiene gluten",src:"../../../../Int_gluten.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Shellfish"===e?r.a.createElement("img",{title:"Crust\xe1ceos",src:"../../../../Int_Crustaceans.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Egg"===e?r.a.createElement("img",{title:"Huevos",src:"../../../../Int_Egg.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Fish"===e?r.a.createElement("img",{title:"Pescado",src:"../../../../Int_Fish.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Peanuts"===e?r.a.createElement("img",{title:"Cacahuetes",src:"../../../../Int_Peanuts.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Soy"===e?r.a.createElement("img",{title:"Soja",src:"../../../../Int_Soy.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Dairy"===e?r.a.createElement("img",{title:"L\xe1cteos",src:"../../../../Int_Dairy.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Tree Nuts"===e?r.a.createElement("img",{title:"Frutos de C\xe1scara",src:"../../../../Int_TreeNuts.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Celery"===e?r.a.createElement("img",{title:"Apio",src:"../../../../Int_Celery.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Mustard"===e?r.a.createElement("img",{title:"Mostaza",src:"../../../../Int_Mustard.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Sesame"===e?r.a.createElement("img",{title:"Granos de S\xe9samo",src:"../../../../Int_sesame.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Sulphur Dioxide"===e?r.a.createElement("img",{title:"Di\xf3xido de Azufre",src:"../../../../Int_sulphur.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Lupin"===e?r.a.createElement("img",{title:"Altramuces",src:"../../../../Int_Lupin.svg",alt:""}):null})),this.state.dish.intolerances.map((function(e){return"Molluscs"===e?r.a.createElement("img",{title:"Moluscos",src:"../../../../Int_Molluscs.svg",alt:""}):null})))),r.a.createElement("div",{className:"details-right"},r.a.createElement("div",null,r.a.createElement("h2",null,this.scoreReduce(this.state.dish.score)),this.state.dish.comments&&r.a.createElement("h3",null,this.state.dish.comments.length," Comentarios")),r.a.createElement("div",null,r.a.createElement("h1",null,"Precio: ",this.state.dish.price," \u20ac"),r.a.createElement(O.b,{to:"/rest/".concat(this.state.dish.restaurant_id._id)},r.a.createElement("h3",null,"Ver m\xe1s de este restaurante >")))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},"Score:"," ",r.a.createElement("input",{name:"score",type:"number",onChange:this.handleChange}),"Comment:"," ",r.a.createElement("input",{name:"comment",type:"TextArea",onChange:this.handleChange}),r.a.createElement("button",null,"Enviar")),r.a.createElement("div",null,r.a.createElement("ul",null,this.state.dish.comments.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:e.user.profile_photo,alt:""}),r.a.createElement("li",null," ",e.user.username," "),r.a.createElement("li",null," ",e.comment," "))}))))):console.log(""))}}]),t}(n.Component)),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getSearchDishes=function(){a.services.getSearchDishes(a.props.match.params.dish).then((function(e){a.setState({dishes:e})})).catch((function(e){return console.log(e)}))},a.componentDidMount=function(){a.getSearchDishes()},a.state={dishes:[],showmodal:!1},a.services=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h2",null,"Resultados de la busqueda:"),r.a.createElement(A.a,null,r.a.createElement("tbody",null,this.state.dishes.map((function(e){return r.a.createElement(N,Object.assign({key:e._id},e))})))))}}]),t}(n.Component),H=function e(){var t=this;Object(c.a)(this,e),this.getAllRest=function(){return t.service.get("/all").then((function(e){return e.data}))},this.getRestDetails=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.postRest=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.getSearchRest=function(e){return t.service.get("/search/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getBestRest=function(){return t.service.get("/score").then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://appetitoso.herokuapp.com/api","/rest"),withCredentials:!0})},F=(a(113),a(70)),z=a.n(F),G=a(71);function K(){var e=Object(G.a)(["\n  position: absolute;\n  background-image: url(../../../../point.svg);\n  background-repeat:no-repeat;\n  top: 50%;\n  left: 50%;\n  width: 30px;\n  height: 30px;\n  user-select: none;\n  transform: translate(-50%, -50%);\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n    width: 40px;\n    height: 40px;\n  }\n"]);return K=function(){return e},e}var W=a(72).a.div(K(),(function(e){return e.onClick?"pointer":"default"})),V=function(e){return r.a.createElement(W,Object.assign({alt:e.text},e.onClick?{onClick:e.onClick}:{}))};V.defaultProps={onClick:null};var q=V;a(133).config();var J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getRestDetails()},a.getRestDetails=function(){a.services.getRestDetails(a.props.pos).then(a.setState({center:a.props.pos})).catch((function(e){return console.log(e)}))},a.state={center:{lat:null,lng:null},zoom:17},a.services=new H,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"50vh",width:"100%"}},this.state.center.lat?r.a.createElement(z.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://appetitoso.herokuapp.com/api",REACT_APP_URL:"https://appetitoso.herokuapp.com/"}).REACT_APP_MAP_KEY},defaultCenter:this.state.center,defaultZoom:this.state.zoom},r.a.createElement(q,{lat:Number(this.state.center.lat),lng:Number(this.state.center.lng),text:"Marker"})):console.log("No data received"))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getRestDetails()},a.getRestDetails=function(){a.services.getRestDetails(a.props.match.params.id).then((function(e){return a.setState({rest:e})})).catch((function(e){return console.log(e)}))},a.state={rest:null},a.services=new H,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,this.state.rest?r.a.createElement("div",{className:"rest-details"},r.a.createElement("div",{className:"rest-slider",style:{backgroundImage:"url('".concat(this.state.rest.photo,"')")}},r.a.createElement("h1",null,this.state.rest.name)),r.a.createElement("div",null,r.a.createElement("h3",null,this.state.rest.address),r.a.createElement("h3",null,"Tlf: ",this.state.rest.phone),r.a.createElement("h3",null,"Web: ",this.state.rest.web),r.a.createElement("h3",null,"Email: ",this.state.rest.email),r.a.createElement("h3",null,"Tipo de comida: ",this.state.rest.food_type)),r.a.createElement("div",{className:"restMap"},r.a.createElement(J,{pos:this.state.rest.position})),r.a.createElement("hr",null),r.a.createElement("h2",null,"Descubre los platos de este restaurante:"),r.a.createElement(d.a,null,r.a.createElement(A.a,null,r.a.createElement("tbody",null,this.state.rest.dishes.map((function(e){return r.a.createElement(N,Object.assign({key:e._id},e))})))))):console.log(""))}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.services.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1},e.services=new _,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(U,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/signup",render:function(){return r.a.createElement(w,{setTheUser:e.setTheUser})}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(L,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/profile/:id",render:function(){return e.state.loggedInUser?r.a.createElement(T,{loggedInUser:e.state.loggedInUser}):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{exact:!0,path:"/dishes/all",render:function(){return r.a.createElement(x,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{exact:!0,path:"/rest/all",render:function(){return r.a.createElement(x,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/dishes/search/:dish",render:function(t){return r.a.createElement(B,Object.assign({},t,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(h.b,{path:"/dishes/:id",render:function(t){return r.a.createElement(P,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{path:"/rest/:id",render:function(e){return r.a.createElement(Y,e)}})))}}]),t}(n.Component);l.a.render(r.a.createElement(O.a,null,r.a.createElement(Z,null)),document.getElementById("root"))},55:function(e,t,a){},77:function(e,t,a){e.exports=a(136)},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.4e9e2bbe.chunk.js.map